!function(o){var r={};function n(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=o,n.c=r,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}({3:function(e,t,o){"use strict";o.r(t);var r=(n.prototype.secondsIntoFuture=function(e,t){var o=t||new Date;return new Date(o.valueOf()+1e3*e)},n.prototype.sessionExpiry=function(e){var t=e||new Date;return this.secondsIntoFuture(60*this.maxSessionAgeInMinutes,t)},n.prototype.vidExpiry=function(e){var t=e||new Date;return this.secondsIntoFuture(365*this.maxVIDAgeInYears*24*3600,t)},n.prototype.makeCookie=function(e,t,o){var r=[e+"="+t,"path=/","expires="+o.toUTCString()],n=this.domainForHostname(location.host);return n&&r.push("domain="+n),r.join("; ")},n.prototype.domainForHostname=function(e){return e.match("phrase.com")?".phrase.com":e.match("phraseapp.com")?".phraseapp.com":void 0},n.prototype.readCookie=function(n){var i;return document.cookie.split("; ").some(function(e,t,o){var r=e.split("=");return 1<r.length&&r[0]===n&&(i=r[1],!0)}),i},n.prototype.logPayload=function(){var e={h:window.innerHeight,r:document.referrer,w:window.innerWidth};return document.location&&(e.l=document.location.href),e},n.prototype.dataLayer=function(){return window.dataLayer},n.prototype.track=function(){var s=this;return new Promise(function(t,e){var o=s.readCookie(s._vidCookieName),r=!1;o||(o=s.generateVID(),r=!0,document.cookie=s.makeCookie(s._vidCookieName,o,s.vidExpiry())),s._dataLayer.push({_pa_vid:o});var n=s.logPayload();n.v=o,r&&(n.c=!0);var i=s.readCookie(s._sidCookieName);i=i||s.generateVID(),s._dataLayer.push({_pa_sid:i}),n.s=i,document.cookie=s.makeCookie(s._sidCookieName,i,s.sessionExpiry());var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=JSON.parse(a.responseText);n.i=e.iid,e.iid&&(s._dataLayer.push({_pa_iid:e.iid}),document.cookie=s.makeCookie(s._ipCookieName,e.iid,s.vidExpiry())),(new Image).src="https://t.phraseapp.io?pl="+btoa(JSON.stringify(n)),t("")}},a.open("GET","https://t2.phraseapp.io?pl="+btoa(JSON.stringify(n))),a.send()})},n.prototype.generateVID=function(){return this.generateVIDForDate(new Date)},n.prototype.generateVIDForDate=function(e){var t=Math.floor(e.getTime()/1e3),o=1e3*e.getMilliseconds(),r=Math.random().toString(32).replace(/[^a-z]+/g,"").slice(0,6);return t.toString(32)+"-"+o.toString(32)+"-"+r},n);function n(){this.maxSessionAgeInMinutes=30,this.maxVIDAgeInYears=20,this._vidCookieName="_pa_vid",this._sidCookieName="_pa_sid",this._ipCookieName="_pa_iid",this._dataLayer=window.dataLayer||[]}function i(e,t){this._from="",this._to="",this._from=e,this._to=t}(i.prototype.call=function(){try{this.init(document.location.href,document.location.search).then(function(e){(new r).track()}).catch(function(e){(new r).track()})}catch(e){(new r).track()}},i.prototype.init=function(e,t){var o=t||"";return!document.cookie.match("_pa_vid")&&e.match(this._to)?this.transferCookies(o):new Promise(function(e,t){e("")})},i.prototype.getUrlParameter=function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))},i.prototype.cjs=function(e){if(window.btoa){var t=this.getUrlParameter(e,"cjs");if(""!=t)return atob(t)}return""},i.prototype.transferCookies=function(t){var o=this;return this.readRemoteCookies().then(function(e){return""==e&&(e=o.cjs(t)),o.writeCookies(e),e}).catch(function(e){return o.writeCookies(o.cjs(t)),o.cjs(t)})},i.prototype.readRemoteCookies=function(){var e=this;return new Promise(function(t,o){fetch("https://"+e._from+"/cookiejs/parse",{credentials:"include"}).then(function(e){return e.json()}).then(function(e){return t(e.cookies)}).catch(function(e){return o(e)})})},i.prototype.whitelisted=function(e){return["__hssc","__hssrc","_pa_sid","_gid","_fbp","nQ_cookieId","gdpr-io","_hjid","__ar_v4","nQ_visitId","__hstc","hubspotutk","messagesUtk","__adroll","_ga","__adroll_fpc","_pa_vid","_pa_iid","language"].includes(e)},i.prototype.writeCookies=function(e){var n=this;e.split(";").map(function(e){var t=e.split("="),o=t[0],r=t[1];n.whitelisted(o)&&(document.cookie=[n.makeCookieParts(o,r,n.expiry(o),""),n.makeCookieParts(o,r,n.expiry(o),".")].join("; "))})},i.prototype.makeCookieParts=function(e,t,o,r){var n=[e+"="+t,"path=/","expires="+o.toUTCString()];return location&&"localhost"!==location.hostname&&n.push("domain="+r+this._to),n.join("; ")},i.prototype.expiry=function(e){return{__hssc:this.expiryDate(0,0,1,0),_gid:this.expiryDate(0,0,2,0),_pa_sid:this.expiryDate(30,0,0,0)}[e]||this.expiryDate(0,0,0,10)},i.prototype.expiryDate=function(e,t,o,r){var n;return void 0===e&&(e=0),void 0===t&&(t=0),void 0===o&&(o=0),void 0===r&&(r=0),n=60*(e+60*(t+24*(o+365*r))),new Date((new Date).valueOf()+1e3*n)},new i("phraseapp.com","phrase.com")).call()}});